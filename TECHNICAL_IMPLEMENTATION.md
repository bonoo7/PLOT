# ุงูุชูุซูู ุงูุชููู - ูุดุฑูุน ุงูุญุจูุฉ

## ุญุงูุฉ ุงููุดุฑูุน ุงูุญุงููุฉ (ุงูุฅุตุฏุงุฑ 1.0)
ุชู ุงูุงูุชูุงุก ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ุงููุนุจุฉ (3 ุฌููุงุช):

### ุงููุฑุงุญู ุงููููุฐุฉ:
1. โ **Lobby Phase**: ุฅูุดุงุก ุงูุบุฑู ูุงูุงูุถูุงู ููุงุนุจูู
2. โ **Role Assignment**: ุชูุฒูุน ุงูุฃุฏูุงุฑ (6 ุฃุฏูุงุฑ ูุฎุชููุฉ)
3. โ **Drafting Phase**: ูุชุงุจุฉ ุงูุฅุฌุงุจุงุช (90 ุซุงููุฉ)
4. โ **Presentation Phase**: ุนุฑุถ ุงูุฅุฌุงุจุงุช
5. โ **Voting Phase**: ุงูุชุตููุช (ุฃูุถู ุฅุฌุงุจุฉ + ุชุฎููู ุงูุดุงูุฏ)
6. โ **Results Phase**: ุญุณุงุจ ููุดุฑ ุงููุชุงุฆุฌ ูุน ุชูุตูู ุฏููู ููููุงุท
7. โ **Multi-Round System**: ุฏุนู 3 ุฌููุงุช ูุชุชุงููุฉ ูุน ุชุฑุงูู ุงูููุงุท ูุดุงุดุฉ ููุงุฆูุฉ

### ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ:
- **Backend**: Node.js + Express + Socket.io
- **Database**: JSON File System (Low-latency, NoSQL-like structure)
- **Frontend (Unified)**: React Native (Expo) for both Mobile and Web
- **Web Support**: React Native Web (Single Codebase)
- **ุงููุบุฉ**: JavaScript/JSX
- **ุงูุงุชุตุงู**: WebSocket (Socket.io)

## ููููุฉ ุงููุดุฑูุน
```
plot/
โโโ server/                          # Backend Node.js
โ   โโโ index.js                    # ููุทู ุงูุฎุงุฏู ุงูุฑุฆูุณู
โ   โโโ scenarios.js                # ูุงุนุฏุฉ ุจูุงูุงุช ุงูุณููุงุฑูููุงุช
โ   โโโ database.js                 # ูุธุงู ุชุฎุฒูู ุงูุจูุงูุงุช (JSON)
โ   โโโ db.json                     # ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุชู ุฅูุดุงุคู ุชููุงุฆูุงู)
โ   โโโ package.json
โ   โโโ /public                     # ูููุงุช ุงูููุจ ุงููุจููุฉ (React Native Web Build)
โ       โโโ index.html             # ููุทุฉ ุงูุฏุฎูู ููุชุทุจูู
โ       โโโ /_expo                 # ูููุงุช ุงูุฌุงูุงุณูุฑูุจุช ูุงูุฃุตูู
โ
โโโ plot-mobile/                    # React Native (Expo) - ุงูููุฏ ุงูููุญุฏ
โ   โโโ App.js                     # ุงููููู ุงูุฑุฆูุณู (ูุนูู ููููุจ ูุงูุฌูุงู)
โ   โโโ app.json                   # ุฅุนุฏุงุฏุงุช Expo
โ   โโโ package.json
โ   โโโ /assets
โ   โ   โโโ /roles                 # ุตูุฑ ุงูุดุฎุตูุงุช ูุงูุฃุฏูุงุฑ
โ   โโโ /components
โ   โ   โโโ RoleAvatar.js          # ูููู ุนุฑุถ ุตูุฑุฉ ุงูุฏูุฑ
โ   โ   โโโ BackgroundWatermark.js # ุฎูููุฉ ุงููููุฉ ุงูุจุตุฑูุฉ
โ   โ   โโโ RedactedText.js        # ูููู ุงููุตูุต ุงููุญุฌูุจุฉ (ุชูุงุนูู)
โ   โโโ /src
โ       โโโ /styles
โ           โโโ theme.js           # ูุชุบูุฑุงุช ุงูุฃููุงู ูุงูุชุตููู
โ
โโโ start.js                       # ุณูุฑูุจุช ุงูุชุดุบูู ุงูููุญุฏ
โโโ package.json                   # ุงูุชุจุนูุงุช ุงูุฑุฆูุณูุฉ
โ
โโโ /docs                         # ุงูุชูุซูู
    โโโ GDD.md                    # ุชุตููู ุงููุนุจุฉ
    โโโ TECHNICAL_IMPLEMENTATION.md
    โโโ ROADMAP.md               # ุฎุทุฉ ุงูุนูู
    โโโ ุงููููุฉ ุงูุจุตุฑูุฉ.md
```

## ุชูุญูุฏ ุงูููุตุงุช (Web & Mobile Unification)
ุชู ุฏูุฌ ูุงุฌูุงุช ุงูููุจ ูุงูุฌูุงู ูู ููุฏ ูุงุญุฏ ุจุงุณุชุฎุฏุงู **React Native Web**.
- **ุงูููุฏ ุงููุตุฏุฑู:** `plot-mobile/App.js` ูู ุงููุตุฏุฑ ุงููุญูุฏ.
- **ุงูุจูุงุก ููููุจ:** ูุชู ุชุญููู ุงูููุฏ ุฅูู HTML/JS ููุถุนู ูู `server/public`.
- **ุงูุชูุฌูู (Routing):** ุงูุฎุงุฏู ูุฏุนู SPA Routing (ุชูุฌูู ุฌููุน ุงูุทูุจุงุช ุฅูู `index.html`).
- **ุงูุชุตููู ุงููุชุฌุงูุจ (Responsive):**
  - **Portrait (Mobile):** ุชุตููู ุนููุฏู ููุงุฆู ููููุงุชู.
  - **Landscape (Web/Tablet):** ุชุตููู ุฃููู ูุณุชุบู ุงููุณุงุญุฉุ ูุน ุญุงููุฉ ูุฑูุฒูุฉ ุชุญุงูู "ููู ุงููุถูุฉ".

## ุจุฑูุชูููู ุงูุงุชุตุงู (Socket.io Events)

### Game Initialization
- `createRoom`: Host ููุดุฆ ุบุฑูุฉ
- `roomCreated`: Server ูุฑุณู ุฑูุฒ ุงูุบุฑูุฉ
- `joinRoom`: Player ููุถู ููุบุฑูุฉ
- `playerJoined`: ุชุญุฏูุซ ูุงุฆูุฉ ุงููุงุนุจูู
- `startGame`: Host ูุจุฏุฃ ุงููุนุจุฉ

### Game Flow
- `roleAssigned`: ุชุนููู ุฏูุฑ ูุฅุฑุณุงู ุงููุนูููุงุช ุงูุณุฑูุฉ
- `gameStarted`: ุจุฏุก ุงูุฌููุฉ (ุนุฑุถ ุนููุงู ุงูุณููุงุฑูู)
- `startDrafting`: ุจุฏุก ูุฑุญูุฉ ุงููุชุงุจุฉ (ูุน ูุฏุฉ ุงููุคูุช)
- `updateDraft`: (Spy Ability) ุชุญุฏูุซ ูุณูุฏุฉ ุงููุงุนุจ ูุญุธูุงู
- `useAbility`: ุทูุจ ุงุณุชุฎุฏุงู ูุฏุฑุฉ ุฎุงุตุฉ (Spy/Detective)
- `abilityResult`: ูุชูุฌุฉ ุงููุฏุฑุฉ ุงูุฎุงุตุฉ
- `submitAnswer`: Player ูุฑุณู ุฅุฌุงุจุชู
- `timerUpdate`: ุชุญุฏูุซ ุงูุนุฏุงุฏ ุงูุชูุงุฒูู
- `startTutorial`: ุจุฏุก ูุถุน ุงูุชุฏุฑูุจ (ูุน ุฎูุงุฑ ุงูุฏูุฑ)

## ุงูููุฒุงุช ุงููุชูุฏูุฉ
### ูุถุน ุงูุชุฏุฑูุจ (Tutorial Mode) & ุงูุฑูุจูุชุงุช
- **Training Flow:**
    1. ูุฎุชุงุฑ ุงููุงุนุจ "ุชุฏุฑูุจ ูุฑุฏู" ููุญุฏุฏ ุฏูุฑู ุงูููุถู.
    2. ููุถู ูุบุฑูุฉ ููุฌูุฏุฉ (Host Room) ุจุงุณุชุฎุฏุงู ุงูุฑูุฒ.
    3. ููุชุดู ุงูุฎุงุฏู ุทูุจ ุงูุชุฏุฑูุจ (`desiredRole`) ููููู ุจุชุญููู ุงูุบุฑูุฉ ููุถุน ุงูุชุฏุฑูุจุ ูุชุนููู ุงูุฏูุฑุ ูููุก ุงูููุงุนุฏ ุงูุดุงุบุฑุฉ ุจู 7 ุจูุชุงุช ุชููุงุฆูุงู.
- **Manual Bot Auto-fill:**
    - ูููู ูููุถูู (Host) ุงุณุชุฎุฏุงู ุฒุฑ "๐ค ุชุนุจุฆุฉ ุจูุชุงุช" ูููุก ุฃู ุบุฑูุฉ ุจุฑูุจูุชุงุช ุฐููุฉุ ููุง ูุณูุญ ุจุชุฌุฑุจุฉ ุงููุนุจุฉ ุญุชู ุจุฏูู ุนุฏุฏ ูุงูู ูู ุงููุงุนุจูู ุงูุจุดุฑ.
- **Bot logic:** ุงูุฑูุจูุชุงุช ุชููู ุจูุญุงูุงุฉ ุงููุชุงุจุฉ ูุงูุชุตููุช ุจูุงุกู ุนูู ููุงุนุฏ ุนุดูุงุฆูุฉ ุฐููุฉ.

### ุงููุฏุฑุงุช ุงูุฎุงุตุฉ
- **ุนูู ุงูุตูุฑ (Spy)**: ุฑุคูุฉ ูุง ููุชุจู ุงูุดุงูุฏ ูู ุงูููุช ุงููุนูู (ูุดูุด ููููุงู).
- **ุงูุงุณุชุฌูุงุจ (Detective)**: ูุนุฑูุฉ ูุณุจุฉ ุฏูุฉ ุฅุฌุงุจุฉ ูุงุนุจ ูุนูู ููุตุฏุงููุชูุง.

### ูุงุนุฏุฉ ุงูุจูุงูุงุช (JSON)
- `db.json`: ูุฎุฒู ุจูุงูุงุช ุงููุงุนุจูู (ุงูููุงุทุ ุงูููุฒุ ุงูุฃุฏูุงุฑ) ูุณุฌู ุงููุจุงุฑูุงุช.
- ูุชู ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุชููุงุฆูุงู ุจุนุฏ ูู ูุนุจุฉ.
- `startPresentation`: ุจุฏุก ุนุฑุถ ุงูุฅุฌุงุจุงุช
- `receiveAnswers`: Host ูุณุชูุจู ูุงุฆูุฉ ุงูุฅุฌุงุจุงุช
- `startVoting`: ุจุฏุก ูุฑุญูุฉ ุงูุชุตููุช
- `submitVote`: Player ูุฑุณู ุชุตููุชู
- `roundResults`: ุนุฑุถ ูุชุงุฆุฌ ุงูุฌููุฉ

## ุงูุฃุฏูุงุฑ ูุงููุนูููุงุช

| ุงูุฏูุฑ | ุงูุฑูู | ุงููุนูููุงุช | ุงููุฏู |
|------|------|---------|------|
| ุงูุดุงูุฏ (WITNESS) | 1 | ุงููุตุฉ ุงููุงููุฉ | ูุชุงุจุฉ ุฅุฌุงุจุฉ ุตุญูุญุฉ ุฏูู ุงููุดุงู |
| ุงููููุฏุณ (ARCHITECT) | 2 | 3 ูููุงุช ููุชุงุญูุฉ | ุจูุงุก ูุฐุจุฉ ูุชูุงุณูุฉ |
| ุงููุญูู (DETECTIVE) | 3 | ุนููุงู ุงูุณููุงุฑูู | ูุดู ุงูุดุงูุฏ ูุงููููุฏุณ |
| ุงูุฌุงุณูุณ (SPY) | 4 | ูุง ุดูุก | ูุญุงููุฉ ูุณุฎ ุงููุตุฉ |
| ุงููุชูุงุทุฆ (ACCOMPLICE) | 5 | ุงุณู ุงูุดุงูุฏ | ุญูุงูุฉ ุงูุดุงูุฏ ูุชุถููู ุงููุญูู |
| ุงููุญุงูู (LAWYER) | 6 | ุงุณู ุงููููู | ุงูุฏูุงุน ุนู ุงููููู ูููุน ุงุชูุงูู |
| ุงููุฎุงุฏุน (TRICKSTER) | 7 | ูููุฉ ุฏุฎููุฉ | ุฅุฏุฑุงุฌ ุงููููุฉ ุจุดูู ูุถุญู |
| ุงูููุงุทู (CITIZEN) | 8+ | ูุง ุดูุก | ุงูุจูุงุก ูุญุงูุฏุงู |

## ูุธุงู ุงูููุงุท
- **ุชุตููุช ุงูุฌูุฏุฉ**: +1000 ููุทุฉ ููู ุตูุช
- **ุงูุงุณุชูุชุงุฌ**: 
  - ุงููุญูู ูุฌุฏ ุงูุดุงูุฏ: +2500
  - ูุงุนุจ ุนุงุฏู ูุฌุฏ ุงูุดุงูุฏ: +500
- **ุงูุฎุฏุงุน**:
  - ุงููููุฏุณ ูุชููู ุนูู ุงูุดุงูุฏ: +1500
  - ุงูุดุงูุฏ ูู ูููุดู: +2000
  - ุงููุชูุงุทุฆ ููุฌุญ ูู ุญูุงูุฉ ุงูุดุงูุฏ: +1500
  - ุงููุญุงูู ููุฌุญ ูู ุชุจุฑุฆุฉ ููููู: +1500

## ูููุงุช ุงูุชูุซูู
- `GDD.md`: ูุซููุฉ ุชุตููู ุงููุนุจุฉ ุงููุงููุฉ
- `userflow.md`: ุชุฏูู ุงููุณุชุฎุฏู ูุงููุฎุทุทุงุช
- `TECHNICAL_IMPLEMENTATION.md`: ุงูุชูุซูู ุงูุชููู
- `ุงููููุฉ ุงูุจุตุฑูุฉ.md`: ุฏููู ุงูุฃููุงู ูุงูุชุตููู
- `ROADMAP.md`: ุฎุทุฉ ุงูุนูู ููุฅุตุฏุงุฑุงุช ุงููุงุฏูุฉ

## ููุงุญุธุงุช ุชูููุฉ
- ุงููุคูุช ุนูู ุฌุงูุจ ุงูุฎุงุฏู ูุถูุงู ุงูุชุฒุงูู
- ุงูุญุงูุฉ ุชุฎุฒู ูู ุงูุฐุงูุฑุฉ (In-Memory) - ุฌุงูุฒุฉ ูููุงุนุฏุฉ ุงูุจูุงูุงุช
- Socket.io ูุฏุนู ุงูุงุชุตุงู ุงููุญุธู ูุงูููุซูู
- RTL/Arabic support ูู ุฌููุน ุงููุงุฌูุงุช


## ูููุงุช ุงูุชูุซูู
- `GDD.md`: ุชูุซูู ุชุตููู ุงููุนุจุฉ (Game Design Document).
- `userflow.md`: ุชุฏูู ุงููุณุชุฎุฏู ูุงููุฎุทุทุงุช ุงูุชุณูุณููุฉ.
- `ุงููููุฉ ุงูุจุตุฑูุฉ.md`: ุฏููู ุงูุฃููุงู ูุงูุนูุงุตุฑ ุงูุจุตุฑูุฉ.
- `README.md`: ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน.

