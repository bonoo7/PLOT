# ๐ ุชูุฑูุฑ ูุฑุงุฌุนุฉ ูุธุงู ุงูููุงุท - Scoring System Audit

## ๐ฏ ุงูููุฎุต ุงูุชูููุฐู
**ุงูุชูุงูููุฉ: 70%** โ
ูุธุงู ุงูููุงุท ุงูุญุงูู ูููุตู **ุนุฏุฉ ููุงูุขุช ูููุฉ** ูุฃุฏูุงุฑ ูุญุฏุฏุฉ.

---

## ๐ ุงูููุงุฑูุฉ ุงูุชูุตูููุฉ: ุงููุซููุฉ ููุงุจู ุงูููุฏ

### โ ูุง ุชู ุชูููุฐู ุจุดูู ุตุญูุญ

#### 1๏ธโฃ ููุงุท ุงูุฅููุงุน (Logic Points) โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ูู ุตูุช | +1000 | `count * 1000` | โ ูุชุทุงุจู |

```javascript
// ุงูุณุทุฑ 256-258
for (const [targetId, count] of Object.entries(qualityVotes)) {
    scores[targetId] += count * 1000;
}
```

---

#### 2๏ธโฃ ููุงุท ุงูุงุณุชูุชุงุฌ - ุงููุญูู (Detective Deduction) โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุงุฎุชูุงุฑ ุงูุดุงูุฏ ุตุญูุญ | +2500 | โ ููุฌูุฏ | โ ูุชุทุงุจู |

```javascript
// ุงูุณุทุฑ 262-264
if (detective && room.votes[detective.id]?.identity === witness?.id) {
    scores[detective.id] += 2500;
}
```

---

#### 3๏ธโฃ ููุงุท ุงูุงุณุชูุชุงุฌ - ุงููุงุนุจูู ุงูุนุงุฏููู (Generic Deduction) โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุงุฎุชูุงุฑ ุงูุดุงูุฏ ุตุญูุญ (ุบูุฑ ูุญูู) | +500 | โ ููุฌูุฏ | โ ูุชุทุงุจู |

```javascript
// ุงูุณุทุฑ 267-271
room.players.forEach(p => {
    if (p.role !== 'DETECTIVE' && p.role !== 'WITNESS' && 
        room.votes[p.id]?.identity === witness?.id) {
        scores[p.id] += 500;
    }
});
```

---

#### 4๏ธโฃ ููุงูุฃุฉ ุงููููุฏุณ - ูุชููู ุนูู ุงูุดุงูุฏ โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุฃุตูุงุช ุงููููุฏุณ > ุฃุตูุงุช ุงูุดุงูุฏ | +1500 | โ ููุฌูุฏ | โ ูุชุทุงุจู |

```javascript
// ุงูุณุทุฑ 274-279
const architectVotes = qualityVotes[architect?.id] || 0;
const witnessVotes = qualityVotes[witness?.id] || 0;
if (architect && witness && architectVotes > witnessVotes) {
    scores[architect.id] += 1500;
}
```

---

#### 5๏ธโฃ ููุงูุฃุฉ ุงูุดุงูุฏ - ุงููุฌุงุฉ โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุฃุตูุงุช ุงุชูุงู < 50% | +2000 | โ ููุฌูุฏ | โ ูุชุทุงุจู |

```javascript
// ุงูุณุทุฑ 281-287
const witnessFoundCount = identityVotes[witness?.id] || 0;
const witnessSurvived = witness && witnessFoundCount < (room.players.length / 2);

if (witnessSurvived) {
    scores[witness.id] += 2000;
}
```

---

#### 6๏ธโฃ ููุงูุฃุฉ ุงููุชูุงุทุฆ โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุงูุดุงูุฏ ููุฌู ุฃู ูููุฒ | +1500 | โ ููุฌูุฏ | โ ูุชุทุงุจู |

```javascript
// ุงูุณุทุฑ 289-298
if (accomplice && witness) {
    const maxQualityVotes = Math.max(...Object.values(qualityVotes), 0);
    const witnessWonQuality = witnessVotes === maxQualityVotes && witnessVotes > 0;

    if (witnessSurvived || witnessWonQuality) {
        scores[accomplice.id] += 1500;
    }
}
```

---

#### 7๏ธโฃ ููุงูุฃุฉ ุงููุญุงูู โ
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุงููููู ูู ููู ุงูุฃูุซุฑ ุงุชูุงูุงู | +1500 | โ ุฎุทุฃ | โ **ูุฎุชูู** |

```javascript
// ุงูุณุทุฑ 300-306
if (lawyer && lawyer.lawyerClient) {
    if (lawyer.lawyerClient !== accusedId) {
        scores[lawyer.id] += 1500;  // โ ูุฌุจ ุฃู ุชููู +2000
    }
}
```

**ุงููุดููุฉ:** ุงูููุฏ ูุนุทู +1500 ุจูููุง ุงููุซููุฉ ุชุทูุจ +2000

---

### โ ูุง ูู ูุชู ุชูููุฐู

#### 1๏ธโฃ ููุงูุฃุฉ ุงูุฌุงุณูุณ (SPY Bonus) โ **MISSING**
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุฃุตูุงุช ูุฑูุจุฉ ูู ุงูุดุงูุฏ (ูุงุฑู โค1) | +1500 | โ ุบูุฑ ููุฌูุฏ | โ **ูุงูุต** |

**ุงูุดุฑุท ูู ุงููุซููุฉ:**
> "ุงูุฌุงุณูุณ: ุฅุฐุง ุญุตู ุนูู ุนุฏุฏ ุฃุตูุงุช ููุงุฑุจ ุงูุดุงูุฏ (ุงููุงุฑู ุตูุช ูุงุญุฏ ุฃู ุฃูู) = +1500 ููุทุฉ."

**ุงูููุฏ ุงูุญุงูู:** ูุง ูุญุชูู ุนูู ุฃู ููุทู ููุฌุงุณูุณ!

```javascript
// ูุง ููุฌุฏ ููุฏ ูุดุจู:
// const spy = room.players.find(p => p.role === 'SPY');
// const spyVotes = qualityVotes[spy?.id] || 0;
// if (spy && Math.abs(spyVotes - witnessVotes) <= 1) {
//     scores[spy.id] += 1500;
// }
```

---

#### 2๏ธโฃ ููุงูุฃุฉ ุงููุฎุงุฏุน (TRICKSTER Bonus) โ **MISSING**
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุฅุฏุฑุงุฌ ูููุฉ ุงููุฎ + โฅ1 ุตูุช | +1500 | โ ุบูุฑ ููุฌูุฏ | โ **ูุงูุต** |

**ุงูุดุฑุท ูู ุงููุซููุฉ:**
> "ุงููููู (ุงููุฎุงุฏุน): ุฅุฐุง ุฏูุฌ 'ูููุฉ ุงููุฎ' ูุญุตู ุนูู ุตูุช ูุงุญุฏ ุนูู ุงูุฃูู = +1500 ููุทุฉ."

**ุงูููุฏ ุงูุญุงูู:** ูุง ูุญุชูู ุนูู ุฃู ููุทู ูููุฎุงุฏุน!

```javascript
// ูุง ููุฌุฏ ููุฏ ูุดุจู:
// const trickster = room.players.find(p => p.role === 'TRICKSTER');
// const tricksterVotes = qualityVotes[trickster?.id] || 0;
// if (trickster && tricksterVotes > 0) {
//     scores[trickster.id] += 1500;
// }
```

---

#### 3๏ธโฃ ููุงูุฃุฉ ุงูููุงุทู (CITIZEN Bonus) โ **MISSING**
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุงุฎุชูุงุฑ ุงูุดุงูุฏ ุตุญูุญ | +1000 | โ ุบูุฑ ููุฌูุฏ | โ **ูุงูุต** |

**ุงูุดุฑุท ูู ุงููุซููุฉ:**
> "ุงูููุงุทู: ุฅุฐุง ุตูุช ููุดุงูุฏ ุจุดูู ุตุญูุญ = +1000 ููุทุฉ (ุชุนููุถุงู ุนู ุบูุงุจ ุงููุฏุฑุงุช)."

**ุงููุดููุฉ:** ุงูููุฏ ูุนุทู ุงูููุงุทู ููุณ ุงูููุงูุฃุฉ (+500) ูุซู ุจุงูู ุงููุงุนุจูู ุงูุนุงุฏูููุ ููู ุงููุซููุฉ ุชุทูุจ +1000

```javascript
// ุงูููุฏ ุงูุญุงูู (ุงูุณุทุฑ 267-271) ูุนุทู ุฌููุน non-DETECTIVE non-WITNESS +500
// ูุฌุจ ุฃู ูููู:
// if (p.role === 'CITIZEN' && room.votes[p.id]?.identity === witness?.id) {
//     scores[p.id] += 1000;
// } else if (...) {
//     scores[p.id] += 500;
// }
```

---

#### 4๏ธโฃ ุนููุจุฉ ุงูุดุงูุฏ ุนูุฏ ุงูุงูุชุดุงู โ **MISSING**
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุงููุญูู ูุฌุฏ ุงูุดุงูุฏ = ุฎุตู 50% | โ ุบูุฑ ููุฌูุฏ | โ **ูุงูุต** |

**ุงูุดุฑุท ูู ุงููุซููุฉ:**
> "ุณููุท ุงูุดุงูุฏ: ุฅุฐุง ูุดูู ุงููุญูู (ุญุตุฑุงู)ุ ูุชู ุฎุตู 50% ูู ููุงุท ุงูุฌููุฉ ูู ุฑุตูุฏ ุงูุดุงูุฏ."

**ุงูููุฏ ุงูุญุงูู:** ูุง ููุฌุฏ ุฃู ุนููุจุฉ!

```javascript
// ูุฌุจ ุฅุถุงูุฉ:
// if (detective && room.votes[detective.id]?.identity === witness?.id && witness) {
//     const witnessRoundScore = calculateScores(room)[witness.id];
//     scores[witness.id] -= Math.floor(witnessRoundScore * 0.5);
// }
```

---

#### 5๏ธโฃ ุนููุจุฉ ุงููุญูู ุนูุฏ ุงูุฎุทุฃ โ **PARTIALLY MISSING**
| ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|--------|--------|------|-------|
| ุฎุทุฃ ูู ุงุฎุชูุงุฑ ุงูุดุงูุฏ | -500 | โ ุบูุฑ ููุฌูุฏ | โ **ูุงูุต** |

**ุงูุดุฑุท ูู ุงููุซููุฉ:**
> "ุงููุญูู: ุฅุฐุง ุงุฎุชุงุฑ ุงูุดุงูุฏ ุจุดูู ุตุญูุญ ูู ูุฑุญูุฉ ุงูุงุชูุงู = +2500 ููุทุฉ (ููุฎุณุฑ 500 ุฅุฐุง ุฃุฎุทุฃ)."

**ุงูููุฏ ุงูุญุงูู:** ูุนุทู +2500 ููุทุ ูุง ุชูุฌุฏ ุนููุจุฉ -500

```javascript
// ูุฌุจ ุฅุถุงูุฉ:
// if (detective && room.votes[detective.id]?.identity !== witness?.id) {
//     scores[detective.id] -= 500;
// }
```

---

## ๐ ุฌุฏูู ุงูููุฎุต ุงูุดุงูู

| ุงูุฏูุฑ | ุงููุชุทูุจ | ุงููุซููุฉ | ุงูููุฏ | ุงูุญุงูุฉ |
|------|--------|--------|------|-------|
| **WITNESS** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **WITNESS** | ูุฌุงุฉ ูู ุงูุงุชูุงู | +2000 | โ | โ |
| **WITNESS** | ุนููุจุฉ ุนูุฏ ุงููุดู | -50% | โ | โ MISSING |
| **ARCHITECT** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **ARCHITECT** | ุงูุชููู ุนูู ุงูุดุงูุฏ | +1500 | โ | โ |
| **DETECTIVE** | ุงุฎุชูุงุฑ ุตุญูุญ | +2500 | โ | โ |
| **DETECTIVE** | ุงุฎุชูุงุฑ ุฎุงุทุฆ | -500 | โ | โ MISSING |
| **SPY** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **SPY** | ุฃุตูุงุช ูุฑูุจุฉ ูู ุงูุดุงูุฏ | +1500 | โ | โ MISSING |
| **ACCOMPLICE** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **ACCOMPLICE** | ุงุฎุชูุงุฑ ุงูุดุงูุฏ ุตุญูุญ | +500 | โ | โ |
| **ACCOMPLICE** | ุงูุดุงูุฏ ููุฌู/ูููุฒ | +1500 | โ | โ |
| **LAWYER** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **LAWYER** | ุงููููู ููุฌู | +2000 | โ +1500 | โ WRONG |
| **TRICKSTER** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **TRICKSTER** | ูููุฉ ูุฎ + โฅ1ุตูุช | +1500 | โ | โ MISSING |
| **CITIZEN** | ููุงุท ุฅููุงุน | +1000/vote | โ | โ |
| **CITIZEN** | ุงุฎุชูุงุฑ ุงูุดุงูุฏ ุตุญูุญ | +1000 | โ +500 | โ WRONG |

---

## ๐ด ุงูุฃุฎุทุงุก ูุงููุดุงูู

### Critical โโโ (3 ูุดุงูู)

1. **ุงูุฌุงุณูุณ (SPY)** - ููุต ูุงูู ููููุงูุฃุฉ ุงููุฎุตุตุฉ
   - ุงููุซููุฉ: +1500 ุนูุฏ ุงูุฃุตูุงุช ุงููุฑูุจุฉ ูู ุงูุดุงูุฏ
   - ุงูููุฏ: ุบูุฑ ููุฌูุฏ

2. **ุงููุฎุงุฏุน (TRICKSTER)** - ููุต ูุงูู ููููุงูุฃุฉ ุงููุฎุตุตุฉ
   - ุงููุซููุฉ: +1500 ุนูุฏ ุงูุญุตูู ุนูู ุตูุช ูุงุญุฏ
   - ุงูููุฏ: ุบูุฑ ููุฌูุฏ

3. **ุนููุจุฉ ุงููุดู** - ููุต ูุงูู ููุนููุจุฉ
   - ุงููุซููุฉ: ุฎุตู 50% ูู ููุงุท ุงูุดุงูุฏ ุนูุฏ ุงููุดู ูู ุงููุญูู
   - ุงูููุฏ: ุบูุฑ ููุฌูุฏ

### Major ๐ถ (2 ูุดููุฉ)

4. **ุงููุญุงูู (LAWYER)** - ูููุฉ ููุงูุฃุฉ ุฎุงุทุฆุฉ
   - ุงููุซููุฉ: +2000
   - ุงูููุฏ: +1500 โ

5. **ุนููุจุฉ ุงููุญูู** - ููุต ุงูุนููุจุฉ ุนูู ุงูุฎุทุฃ
   - ุงููุซููุฉ: -500 ุนูุฏ ุงุฎุชูุงุฑ ุฎุงุทุฆ
   - ุงูููุฏ: ุบูุฑ ููุฌูุฏ

### Minor ๐ก (1 ูุดููุฉ)

6. **ุงูููุงุทู (CITIZEN)** - ูููุฉ ููุงูุฃุฉ ุฎุงุทุฆุฉ
   - ุงููุซููุฉ: +1000 ูุงุฎุชูุงุฑ ุงูุดุงูุฏ
   - ุงูููุฏ: +500 (ููุณ ุจุงูู ุงููุงุนุจูู) โ

---

## ๐ ุชุฃุซูุฑ ูุฐู ุงูุฃุฎุทุงุก

### ุนูู ุงููุนุจ:
- โ ุฏูุฑ ุงูุฌุงุณูุณ ุบูุฑ ูุชูุงุฒู (ุจุฏูู ููุงูุฃุฉ ูููุฌุงุญ)
- โ ุฏูุฑ ุงููุฎุงุฏุน ุบูุฑ ูุชูุงุฒู (ุจุฏูู ููุงูุฃุฉ ูููุฌุงุญ)
- โ ุนุฏู ูุฌูุฏ ุนููุจุงุช ุชุฌุนู ุจุนุถ ุงูุฃุฏูุงุฑ ุณููุฉ ุฌุฏุงู
- โ ุฃุฑูุงู ุงูููุงุท ุบูุฑ ุฏูููุฉ

### ุนูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:
- ุงููุงุนุจูู ูุฏ ูุง ูููููู ุงูุณุจุจ ูู ุนุฏู ุญุตูู ุจุนุถ ุงูุฃุฏูุงุฑ ุนูู ููุงุท
- ุนุฏู ุดุนูุฑ ุจุงููุนุจุฉ ุงูุนุงุฏูุฉ
- ุงูุฃุฏูุงุฑ ุงููุญุฏุฏุฉ ูุฏ ุชุดุนุฑ ุจุฃููุง ุบูุฑ ููุชููุฉ

---

## โ ุงูุชูุตูุงุช

### ุงูุฃููููุฉ 1 - ุญุฑุฌ ๐ด

1. **ุฅุถุงูุฉ ููุงูุฃุฉ ุงูุฌุงุณูุณ**
   ```javascript
   const spy = room.players.find(p => p.role === 'SPY');
   const spyVotes = qualityVotes[spy?.id] || 0;
   if (spy && Math.abs(spyVotes - witnessVotes) <= 1) {
       scores[spy.id] += 1500;
   }
   ```

2. **ุฅุถุงูุฉ ููุงูุฃุฉ ุงููุฎุงุฏุน**
   ```javascript
   const trickster = room.players.find(p => p.role === 'TRICKSTER');
   const tricksterVotes = qualityVotes[trickster?.id] || 0;
   if (trickster && tricksterVotes > 0) {
       scores[trickster.id] += 1500;
   }
   ```

3. **ุฅุถุงูุฉ ุนููุจุฉ ุงููุดู ููุดุงูุฏ**
   ```javascript
   if (detective && room.votes[detective.id]?.identity === witness?.id && witness) {
       // ุญุณุงุจ ููุงุท ุงูุดุงูุฏ ูู ุฏูู ุงูุนููุจุฉ ุฃููุงู
       const witnessBaseScore = witness.score; // ุงูููุงุท ูุจู ูุฐู ุงูุฌููุฉ
       // ุซู ูุทุจู ุงูุนููุจุฉ
       scores[witness.id] = Math.floor(scores[witness.id] * 0.5);
   }
   ```

### ุงูุฃููููุฉ 2 - ูุจุฑู ๐

4. **ุชุตุญูุญ ููุงูุฃุฉ ุงููุญุงูู ูู +1500 ุฅูู +2000**
   ```javascript
   scores[lawyer.id] += 2000;  // ูุงู 1500
   ```

5. **ุฅุถุงูุฉ ุนููุจุฉ ุงููุญูู ุนูู ุงูุฎุทุฃ**
   ```javascript
   if (detective && room.votes[detective.id]?.identity !== witness?.id) {
       scores[detective.id] -= 500;
   }
   ```

### ุงูุฃููููุฉ 3 - ุตุบุฑู ๐ก

6. **ุชุตุญูุญ ููุงูุฃุฉ ุงูููุงุทู ุฅูู +1000**
   ```javascript
   // ุชุนุฏูู ุงูุดุฑุท ูุฅุนุทุงุก +1000 ููููุงุทู ุจุฏูุงู ูู +500
   if (p.role === 'CITIZEN' && room.votes[p.id]?.identity === witness?.id) {
       scores[p.id] += 1000;
   } else if (p.role !== 'DETECTIVE' && p.role !== 'WITNESS' && 
              room.votes[p.id]?.identity === witness?.id) {
       scores[p.id] += 500;
   }
   ```

---

## ๐ ุงูุฎูุงุตุฉ

**ูุธุงู ุงูููุงุท ุงูุญุงูู ูุชูุงูู ุจูุณุจุฉ 70% ูุน ุงููุซููุฉ**

- โ ุงูููุงูุขุช ุงูุฃุณุงุณูุฉ ููุฌูุฏุฉ ูุฏูููุฉ
- โ 6 ูุดุงูู ูู ุงูููุงูุขุช ุงูุฅุถุงููุฉ ูุงูุนููุจุงุช
- โฐ **ูุชุทูุจ ุฅุตูุงุญ ุญุงุฏ** ูุจู ุงูุฅุทูุงู ุงูููุงุฆู

**ุงูุชูุตูุฉ:** ุฅุตูุงุญ ุงููุดุงูู ุงูุญุฑุฌุฉ (SPY, TRICKSTER, Penalties) ูุจู ุงูุฅุตุฏุงุฑ 2.0 ุงูููุงุฆู.

